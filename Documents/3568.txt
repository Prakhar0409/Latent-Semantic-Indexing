Apple Filing Protocol
The Apple Filing Protocol (AFP) is a network protocol that offers file services for Mac OS X and original Mac OS. In Mac OS X, AFP is one of several file services supported including Server Message Block (SMB), Network File System (NFS), File Transfer Protocol (FTP), and WebDAV. AFP currently supports Unicode file names, POSIX and access control list permissions, UNIX quotas, resource forks, named extended attributes, and advanced file locking. In Mac OS 9 and earlier, AFP was the primary protocol for file services.

AFP versions 3.0 and greater rely exclusively on TCP/IP (port 548 or 427) for establishing communication, supporting AppleTalk only as a service discovery protocol. The AFP 2.x family supports both TCP/IP (using Data Stream Interface) and AppleTalk for communication and service discovery. Many third-party AFP implementations use AFP 2.x, thereby supporting AppleTalk as a connection method. Still earlier versions rely exclusively on AppleTalk. For this reason, some older literature refers to AFP as "AppleTalk Filing Protocol". Other literature may refer to AFP as "AppleShare," the name of the Mac OS 9 (and earlier) AFP client.
Notable current compatibility topics are:

Changes made in AFP since version 3.0 represent major advances in the protocol, introducing features designed specifically for Mac OS X clients.
However, like the AppleShare client in original Mac OS, the AFP client in Mac OS X continues to support type and creator codes, along with filename extensions.
AFP 3.0 was introduced in Mac OS X Server 10.0.3, and was used through Mac OS X Server 10.1.5. It was the first version to use the UNIX-style POSIX permissions model and Unicode UTF-8 file name encodings. Version 3.0 supported a maximum share point and file size of two tebibytes, the maximum file size and volume size for Mac OS X until version 10.2. (Note that the maximum file size changed from version 2.2, described below.) Before AFP 3.0, 31 bytes was the maximum length of a filename sent over afp.
AFP 3.1 was introduced in Mac OS X Server version 10.2. Notable changes included support for Kerberos authentication, automatic client reconnect, NFS resharing, and secure AFP connections via Secure Shell (SSH). The maximum share point and file size increased to eight tebibytes with Mac OS X Server 10.2, and then to 16 terabytes with Mac OS X Server 10.3.
AFP 3.2 adds support for Access Control Lists and extended attributes in Mac OS X Server 10.4. Maximum share point size is at least 16 tebibytes, although Apple has not published a limits document for Mac OS X Server 10.4.
Mac OS X Leopard extends AFP 3.2 to include three new undocumented AFP commands. The first two are used to get the server to synchronize data for a file or a directory to disk; this is used to ensure that data cannot be lost if the server fails during a Time Machine backup. The third function is used by network Spotlight features.
Early implementations of AFP server software were available in Mac OS starting with System 6, in AppleShare and AppleShare IP, and in early "1.x" releases of Mac OS X Server. In client operating systems, AFP was called "Personal File Sharing", and supported up to ten simultaneous connections. These AFP implementations relied on version 1.x or 2.x of the protocol. AppleShare IP 5.x, 6.x, and the "1.x" releases of Mac OS X Server introduced AFP version 2.2. This was the first version to offer transport connections using TCP/IP as well as AppleTalk. It also increased the maximum share point size from four gigabytes to two tebibytes, although the maximum file size that could be stored remained at two gigabytes due to limitations in original Mac OS.

In Mac OS X Tiger, users can connect to AFP servers by browsing for them in the Network globe or entering an AFP Uniform Resource Locator (URL) into the Connect to Server dialog. In OS X Leopard, AFP shares are displayed in the Finder side-bar. AFP URLs take the form: afp://<server>/<share>, where <server> is the server's IP address, Domain Name System (DNS) name, or Bonjour name, and <share> is the name of the share point.
Mac OS X also offers Personal File Sharing, a "light" implementation of the current version of AFP. In Mac OS X 10.4 client, users can share the contents of their Public folders by checking Personal File Sharing in the Sharing section of System Preferences.
AFP URLs for AppleTalk servers took the form: afp:/at/<AppleTalk name>:<AppleTalk zone>. For networks without AppleTalk zones, an asterisk (*) would be substituted for the zone name.

Third party server implementations of AFP are available from a number of companies.


